import{j as t,B as j,C,c as $,L as g,r}from"./index-962aa7a8.js";const E=e=>{const n=t.jsxs("div",{className:`modal ${e.className}`,style:e.style,children:[t.jsx("header",{className:`modal__header ${e.headerClass}`,children:t.jsx("h2",{children:e.header})}),t.jsxs("form",{onSubmit:e.onSubmit?e.onSubmit:c=>c.preventDefault(),children:[t.jsx("div",{className:`modal_content ${e.contentClass}`,children:e.children}),t.jsx("footer",{className:`modal__footer ${e.footer}`,children:e.footer})]})]});return $.createPortal(n,document.getElementById("modal-hook"))},v=e=>t.jsxs(t.Fragment,{children:[e.show&&t.jsx(j,{onClick:e.onCancel}),t.jsx(C,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:t.jsx(E,{...e})})]});const k=e=>e.href?t.jsx("a",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,href:e.href,children:e.children}):e.to?t.jsx(g,{to:e.to,exact:e.exact,className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,children:e.children}):t.jsx("button",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children}),y=e=>t.jsx(v,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:t.jsx(k,{onClick:e.onClear,children:"Okay"}),children:t.jsx("p",{children:e.error})}),N=()=>{const[e,n]=r.useState(!1),[c,i]=r.useState(),s=r.useRef([]),d=r.useCallback(async(l,m="GET",f=null,x={})=>{n(!0);const o=new AbortController;s.current.push(o);try{const a=await fetch(l,{method:m,body:f,headers:x,signal:o.signal}),u=await a.json();if(s.current=s.current.filter(b=>b!==o),!a.ok)throw new Error(u.message);return n(!1),u}catch(a){throw i(a.message),n(!1),a}},[]),h=()=>{i(null)};return r.useEffect(()=>()=>{s.current.forEach(l=>l.abort())},[]),{isLoading:e,error:c,sendRequest:d,clearError:h}};export{k as B,y as E,v as M,N as u};
