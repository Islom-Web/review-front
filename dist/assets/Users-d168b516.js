import{j as e,L as d,r as n,a as o}from"./index-962aa7a8.js";import{C as c}from"./Card-b927284e.js";import{u as h,E as x}from"./http-hook-a222d301.js";const j=s=>e.jsx("div",{className:`avatar ${s.className}`,style:s.style,children:e.jsx("img",{src:s.image,alt:s.alt,style:{width:s.width,height:s.width}})});const u=s=>e.jsx("li",{className:"user-item",children:e.jsx(c,{className:"user-item__content",children:e.jsxs(d,{to:`/${s.id}/places`,children:[e.jsx("div",{className:"user-item__image",children:e.jsx(j,{image:`https://review-back.onrender.com/${s.image}`,alt:s.name})}),e.jsxs("div",{className:"user-item__info",children:[e.jsx("h2",{children:s.name}),e.jsxs("h3",{children:[s.placeCount," ",s.placeCount===1?"Review":"Reviews"]})]})]})})});const g=s=>s.items.length===0?e.jsx("div",{className:"center",children:e.jsx(c,{children:e.jsx("h2",{children:"No users found."})})}):e.jsx("ul",{className:"users-list",children:s.items.map(t=>e.jsx(u,{id:t.id,image:t.image,name:t.name,placeCount:t.places.length},t.id))}),w=()=>{const{isLoading:s,error:t,sendRequest:a,clearError:l}=h(),[r,m]=n.useState();return n.useEffect(()=>{(async()=>{try{const i=await a("https://review-back.onrender.com/api/users");m(i.users)}catch{}})()},[a]),e.jsxs(e.Fragment,{children:[e.jsx(x,{error:t,onClear:l}),s&&e.jsx("div",{className:"center",children:e.jsx(o,{})}),!s&&r&&e.jsx(g,{items:r})]})};export{w as default};
